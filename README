##################################################
1. set up Amazon EC2 virtual machine
	- Free tier, 15G Internet bandwidth
	- Ubuntu Server 14.04 LTS (HVM), SSD Volume Type
	- Inbound poliy: open UDP port 500 ans UDP port 4500

2. Get source
	$ git clone https://github.com/yanlookwatchsee/CiscoIPsecVPNSetup.git

3. Run setup script
	$ sudo ./setupVPN.sh


##################################################
How to manually set up the Cisco IPsec VPN:

- Install racoon: sudo apt-get install racoon
- Prepare your VPN preference: internal IP segment, ID(IOS called "group name"), PSK(pre-shared key), user/passwd;
- In Ubuntu linux, adduser as "user/passwd";
- Configurate racoon: racoon.conf (internal IP segment), psk.txt(ID,PSK);
- start racoon
- configrate source-NAT: iptables


 
##################################################
Check Cisco IPsec client on your device, if not, install it. (IOS and OSX have built-in Cisco Ipsec client)
And connect!


References:
[1] http://www.netbsd.org/docs/network/ipsec/rasvpn.html, “How to build a remote user access VPN with Racoon”
[2] http://www.kame.net/newsletter/20001119/, “Simple Configuration Sample of IPsec/Racoon”
[3] http://www.lartc.org/howto/lartc.ipsec.html, “Chapter 7. IPSEC: secure IP over the Internet”
[4] http://linux.die.net/man/8/racoon, “racoon(8) - Linux man page”
[5] https://www.shrew.net/static/help-1.0.x/mode_cfgsection.htm, “racoon mode_cfg section”



